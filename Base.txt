-- Создание базы данных
CREATE DATABASE bookstore;

-- Использование базы данных
USE bookstore;

-- Создание таблицы actions
CREATE TABLE actions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    image VARCHAR(255) NOT NULL
);

-- Создание таблицы offers
CREATE TABLE offers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL
);

-- Создание таблицы books
CREATE TABLE books (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    author VARCHAR(255) NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    description TEXT,
    genre VARCHAR(255),
    image VARCHAR(255),
	category VARCHAR(50)
);

-- для создания таблицы скидок
CREATE TABLE discounts (
    id INT AUTO_INCREMENT PRIMARY KEY,
    book_id INT NOT NULL,
    discount DECIMAL(5, 2) NOT NULL,
    FOREIGN KEY (book_id) REFERENCES books(id)
);

-- Создание таблицы users
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    middle_name VARCHAR(255),
    password VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE,
    phone VARCHAR(20),
    wallet DECIMAL(10, 2) DEFAULT 0.00,
    nickname VARCHAR(255) NOT NULL
);

-- Заполнение таблицы actions данными
INSERT INTO actions (image) VALUES
('slide1.jpg'),
('slide2.jpg'),
('slide3.jpg');

-- Заполнение таблицы offers данными
INSERT INTO offers (title, description) VALUES
('Приглашение на Чёрную пятницу', 'Приходите, чтобы зажечь выгоду!'),
('Новогодние подарки', 'Подарочные сертификаты на книги для ваших близких!'),
('Детские сказки', 'Скидки на детские книги и сказки!');           

-- Заполнение таблицы books данными
INSERT INTO books (title, author, price, description, genre, image) VALUES
('Вегетация', 'Алексей Иванов', 500.00, 'Научно-фантастический роман о машинах-мутантах', 'Фантастика', 'vegetation.jpg'),
('Метро 2033', 'Дмитрий Глуховский', 499.00, 'Постапокалиптический роман о жизни в московском метро после ядерной войны', 'Фантастика', 'metro2033.jpg'),
('Цветы для Элджернона', 'Дэниел Киз', 199.00, 'Драматический рассказ о научных экспериментах и человеческих отношениях', 'Драма', 'flowers_for_algernon.jpg'),
('Лавр', 'Евгений Водолазкин', 499.00, 'Исторический роман о поиске смысла жизни', 'Современная проза', 'laur.jpg'),
('Задача трёх тел', 'Лю Цысинь', 699.00, 'Научно-фантастическая эпопея о контакте с внеземным разумом', 'Фантастика', 'three_body_problem.jpg'),
('Алхимик', 'Пауло Коэльо', 399.00, 'Притча о судьбе и поиске сокровища', 'Философия', 'alchemist.jpg'),
('Ночь в Лиссабоне', 'Эрих Мария Ремарк', 279.00, 'Роман о судьбах людей, потерявших всё во время Второй мировой войны', 'Классическая литература', 'night_in_lisbon.jpg'),
('О дивный новый мир', 'Олдос Хаксли', 419.00, 'Антиутопия о будущем, где люди лишены свободы выбора', 'Фантастика', 'brave_new_world.jpg'),
('Сила подсознания', 'Джо Диспенза', 479.00, 'Книга о возможностях человеческого подсознания и его влиянии на здоровье', 'Психология', 'power_of_subconscious.jpg'),
('Алхимия эмоций', 'Татьяна Мужицкая', 399.00, 'Практическое руководство по управлению своими эмоциями', 'Саморазвитие', 'alchemy_of_emotions.jpg'),
('Снеговик', 'Ю Несбё', 549.00, 'Детективный роман о маньяке, убивающем женщин зимой', 'Детективы', 'snowman.jpg'),
('Преступление и наказание', 'Фёдор Достоевский', 199.00, 'Классический роман о сложностях нравственного выбора', 'Классическая литература', 'crime_and_punishment.jpg'),
('Звёздная кровь', 'Роман Прокофьев', 299.00, 'Фэнтези о борьбе за власть и любовь', 'Фэнтези', 'star_blood.jpg'),
('Мастер и Маргарита', 'Михаил Булгаков', 349.00, 'Роман о встрече дьявола с Москвой 1930-х годов', 'Классическая литература', 'master_and_margarita.jpg'),
('Квантовый воин', 'Джон Кехо', 479.00, 'Книга о развитии сознания и достижения целей', 'Саморазвитие', 'quantum_warrior.jpg'),
('Тайна мертвого ректора', 'Виктор Дашкевич', 519.00, 'Детективный роман о странной смерти в университете', 'Детективы', 'dead_rector.jpg'),
('Трансерфинг реальности', 'Вадим Зеланд', 1679.00, 'Теория управления реальностью через мысли', 'Эзотерика', 'transurfing.jpg'),
('Метро 2033', 'Дмитрий Глуховский', 499.00, 'Постапокалиптический роман о выживании в московском метро', 'Фантастика', 'metro2033.jpg'),
('Метро 2034', 'Дмитрий Глуховский', 599.00, 'Продолжение культового романа о подземном мире', 'Фантастика', 'metro2034.jpg'),
('Метро 2035', 'Дмитрий Глуховский', 699.00, 'Финальная часть постапокалиптической трилогии', 'Фантастика', 'metro2035.jpg'),
('1984', 'Джордж Оруэлл', 379.00, 'Культовый роман-антиутопия о тоталитаризме', 'Классическая литература', '1984.jpg'),
('Гарри Поттер и философский камень', 'Джоан Роулинг', 349.00, 'Первая часть знаменитой саги о волшебнике', 'Фэнтези', 'harry_potter1.jpg'),
('Гарри Поттер и тайная комната', 'Джоан Роулинг', 399.00, 'Продолжение приключений Гарри Поттера', 'Фэнтези', 'harry_potter2.jpg'),
('Гарри Поттер и узник Азкабана', 'Джоан Роулинг', 459.00, 'Третья часть волшебной саги', 'Фэнтези', 'harry_potter3.jpg'),
('Дюна', 'Фрэнк Герберт', 599.00, 'Классика научной фантастики о пустынной планете', 'Фантастика', 'dune.jpg'),
('Дюна: Мессия', 'Фрэнк Герберт', 499.00, 'Продолжение эпопеи о пустынной планете Арракис', 'Фантастика', 'dune_messiah.jpg'),
('Задача трех тел', 'Лю Цысинь', 699.00, 'Научно-фантастический роман о контакте с внеземной цивилизацией', 'Фантастика', 'three_body.jpg'),
('Темный лес', 'Лю Цысинь', 749.00, 'Вторая часть трилогии о трех телах', 'Фантастика', 'dark_forest.jpg'),
('Вечный зов', 'Анатолий Иванов', 329.00, 'Эпопея о судьбах людей на фоне исторических событий', 'Историческая проза', 'eternal_call.jpg'),
('Шантарам', 'Грегори Дэвид Робертс', 599.00, 'Роман о беглеце, нашедшем себя в Индии', 'Современная проза', 'shantaram.jpg'),
('Правда о деле Гарри Квеберта', 'Жоэль Диккер', 449.00, 'Детективный роман о расследовании тайны из прошлого', 'Детективы', 'harry_quebert.jpg'),
('Исчезнувшая', 'Гиллиан Флинн', 419.00, 'Триллер о загадочном исчезновении жены', 'Детективы', 'gone_girl.jpg'),
('Книга джунглей', 'Редьярд Киплинг', 299.00, 'Классический сборник рассказов о приключениях Маугли', 'Классическая литература', 'jungle_book.jpg'),
('Три мушкетёра', 'Александр Дюма', 399.00, 'Роман о приключениях мушкетёров и их чести', 'Классическая литература', 'three_musketeers.jpg'),
('Граф Монте-Кристо', 'Александр Дюма', 499.00, 'История мести и прощения', 'Классическая литература', 'monte_cristo.jpg'),
('Дракула', 'Брэм Стокер', 349.00, 'Классика о вампирском графе', 'Ужасы', 'dracula.jpg'),
('Франкенштейн', 'Мэри Шелли', 299.00, 'Роман о создании искусственной жизни', 'Ужасы', 'frankenstein.jpg'),
('Превращение', 'Франц Кафка', 199.00, 'Философская притча о переменах и отчуждении', 'Классическая литература', 'metamorphosis.jpg'),
('Код да Винчи', 'Дэн Браун', 499.00, 'Детективный триллер о древних заговорах', 'Детективы', 'da_vinci_code.jpg'),
('Инферно', 'Дэн Браун', 549.00, 'Триллер о секретах и древних текстах', 'Детективы', 'inferno.jpg'),
('Атлант расправил плечи', 'Айн Рэнд', 599.00, 'Философский роман о свободе и бизнесе', 'Современная проза', 'atlas_shrugged.jpg'),
('Источник', 'Айн Рэнд', 549.00, 'История архитектора, идущего против системы', 'Современная проза', 'fountainhead.jpg'),
('Коллекционер', 'Джон Фаулз', 399.00, 'Психологический триллер о навязчивой любви', 'Детективы', 'collector.jpg'),
('Волхв', 'Джон Фаулз', 499.00, 'Мистический роман о поиске истины', 'Современная проза', 'magus.jpg'),
('Ферма животных', 'Джордж Оруэлл', 299.00, 'Аллегорическая сказка о власти и революции', 'Классическая литература', 'animal_farm.jpg'),
('Идиот', 'Фёдор Достоевский', 349.00, 'Роман о человеке с чистой душой в порочном обществе', 'Классическая литература', 'idiot.jpg'),
('Бесы', 'Фёдор Достоевский', 399.00, 'Роман о разрушительной силе идеологии', 'Классическая литература', 'demons.jpg'),
('Доктор Живаго', 'Борис Пастернак', 349.00, 'История любви на фоне революции', 'Классическая литература', 'doctor_zhivago.jpg'),
('Тихий Дон', 'Михаил Шолохов', 499.00, 'Эпопея о судьбах казаков во время Гражданской войны', 'Классическая литература', 'quiet_don.jpg'),
('Старик и море', 'Эрнест Хемингуэй', 199.00, 'Притча о стойкости и борьбе', 'Классическая литература', 'old_man_and_sea.jpg'),
('Прощай, оружие!', 'Эрнест Хемингуэй', 349.00, 'Роман о любви и войне', 'Классическая литература', 'farewell_to_arms.jpg'),
('Властелин колец: Братство кольца', 'Дж. Р. Р. Толкин', 599.00, 'Первая часть легендарной трилогии о Средиземье', 'Фэнтези', 'fellowship_of_the_ring.jpg'),
('Властелин колец: Две крепости', 'Дж. Р. Р. Толкин', 599.00, 'Продолжение эпического путешествия', 'Фэнтези', 'two_towers.jpg'),
('Властелин колец: Возвращение короля', 'Дж. Р. Р. Толкин', 599.00, 'Финальная часть трилогии', 'Фэнтези', 'return_of_the_king.jpg'),
('Хоббит', 'Дж. Р. Р. Толкин', 499.00, 'Предыстория событий Властелина колец', 'Фэнтези', 'hobbit.jpg'),
('Пикник на обочине', 'Аркадий и Борис Стругацкие', 299.00, 'Роман о загадочной Зоне и сталкерах', 'Фантастика', 'roadside_picnic.jpg'),
('Трудно быть богом', 'Аркадий и Борис Стругацкие', 349.00, 'Философский роман о наблюдателях на другой планете', 'Фантастика', 'hard_to_be_god.jpg'),
('Песнь льда и огня: Игра престолов', 'Джордж Р. Р. Мартин', 699.00, 'Первая часть эпической саги о борьбе за Железный трон', 'Фэнтези', 'game_of_thrones.jpg'),
('Песнь льда и огня: Битва королей', 'Джордж Р. Р. Мартин', 749.00, 'Продолжение эпической борьбы', 'Фэнтези', 'clash_of_kings.jpg'),
('Песнь льда и огня: Буря мечей', 'Джордж Р. Р. Мартин', 799.00, 'Третья часть цикла', 'Фэнтези', 'storm_of_swords.jpg'),
('Солярис', 'Станислав Лем', 399.00, 'Философский роман о контакте с неизведанным', 'Фантастика', 'solaris.jpg'),
('Анна Каренина', 'Лев Толстой', 299.00, 'Классика русской литературы о любви и трагедии', 'Классическая литература', 'anna_karenina.jpg'),
('Война и мир', 'Лев Толстой', 499.00, 'Историческая эпопея о судьбе России', 'Классическая литература', 'war_and_peace.jpg'),
('Маленький принц', 'Антуан де Сент-Экзюпери', 199.00, 'Притча о детстве и дружбе', 'Классическая литература', 'little_prince.jpg'),
('Портрет Дориана Грея', 'Оскар Уайльд', 299.00, 'Роман о поисках вечной молодости', 'Классическая литература', 'dorian_gray.jpg'),
('Фауст', 'Иоганн Вольфганг Гёте', 399.00, 'Поэтический роман о сделке с дьяволом', 'Классическая литература', 'faust.jpg'),
('Дети капитана Гранта', 'Жюль Верн', 299.00, 'Приключенческий роман о поиске пропавшего капитана', 'Приключения', 'captain_grant_children.jpg'),
('Таинственный остров', 'Жюль Верн', 349.00, 'История выживания на необитаемом острове', 'Приключения', 'mysterious_island.jpg'),
('20 000 лье под водой', 'Жюль Верн', 349.00, 'Приключения капитана Немо и его подводного корабля', 'Приключения', '20000_leagues.jpg'),
('Убик', 'Филип К. Дик', 499.00, 'Роман о реальности и восприятии времени', 'Фантастика', 'ubik.jpg'),
('Человек в высоком замке', 'Филип К. Дик', 499.00, 'Альтернативная история победы нацистов', 'Фантастика', 'man_in_high_castle.jpg'),
('Моя борьба', 'Адольф Гитлер', 999.99, 'Великая литература современности', 'Классическая литература', '1.jpg'),
('1984', 'Джордж Оруэлл', 999.99, 'Великая литература современности', 'Классическая литература', '2.jpg');

-- Пример обновления для книг с определенными id
UPDATE books SET category = 'New' WHERE id IN (1, 26, 43);
UPDATE books SET category = 'Best' WHERE id IN (22, 23, 24, 52, 55);
UPDATE books SET category = 'Old' WHERE id IN (2, 12, 14, 18, 34, 35, 46, 56, 63, 64, 67);



-- для добавления скидок
INSERT INTO discounts (book_id, discount) VALUES
(1, 10.00),  -- 10% скидка на книгу с id 1
(2, 15.00),  -- 15% скидка на книгу с id 2
(3, 20.00),  -- 20% скидка на книгу с id 3
(4, 25.00),  -- 25% скидка на книгу с id 4
(5, 30.00),  -- 30% скидка на книгу с id 5
(6, 35.00),  -- 35% скидка на книгу с id 6
(7, 40.00),  -- 40% скидка на книгу с id 7
(8, 50.00);  -- 50% скидка на книгу с id 8
